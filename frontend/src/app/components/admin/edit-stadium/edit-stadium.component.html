<div
	class="w-full max-w-4xl team-section-container space-y-10 animate-fade-in"
>
	<!-- Title -->
	<h2 class="text-xl text-center app-page-titles">Edit {{ stadium.name }}</h2>

	<!-- Stadium Info -->
	<div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
		<!-- Name -->
		<div class="min-w-[6rem] p-4 bg-gray-50 dark:bg-gray-700 rounded-xl shadow flex flex-col items-center justify-center gap-1">
			<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
				<path stroke-linecap="round" stroke-linejoin="round" d="M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z" />
				<path stroke-linecap="round" stroke-linejoin="round" d="M6 6h.008v.008H6V6Z" />
			</svg>
			<p class="text-lg font-bold text-gray-800 dark:text-white">{{ stadium.name }}</p>
			<p class="text-sm text-gray-600 dark:text-gray-300">Name</p>
		</div>

		<!-- Opening Date -->
		<div class="min-w-[6rem] p-4 bg-gray-50 dark:bg-gray-700 rounded-xl shadow flex flex-col items-center justify-center gap-1">
			<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="size-6">
				<path d="M12.75 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM7.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM8.25 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM9.75 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM10.5 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM12.75 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM14.25 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 17.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 15.75a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5ZM15 12.75a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM16.5 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z" />
				<path fill-rule="evenodd" d="M6.75 2.25A.75.75 0 0 1 7.5 3v1.5h9V3A.75.75 0 0 1 18 3v1.5h.75a3 3 0 0 1 3 3v11.25a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3V7.5a3 3 0 0 1 3-3H6V3a.75.75 0 0 1 .75-.75Zm13.5 9a1.5 1.5 0 0 0-1.5-1.5H5.25a1.5 1.5 0 0 0-1.5 1.5v7.5a1.5 1.5 0 0 0 1.5 1.5h13.5a1.5 1.5 0 0 0 1.5-1.5v-7.5Z" clip-rule="evenodd" />
			</svg>
			<p class="text-lg font-bold text-gray-800 dark:text-white">{{ stadium.openingDate }}</p>
			<p class="text-sm text-gray-600 dark:text-gray-300">Opening Date</p>
		</div>

		<!-- Team -->
		<div class="min-w-[6rem] p-4 bg-gray-50 dark:bg-gray-700 rounded-xl shadow flex flex-col items-center justify-center gap-1">
			<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
				<path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z" />
			</svg>
			<p class="text-lg font-bold text-gray-800 dark:text-white">{{ stadium.teamName }}</p>
			<p class="text-sm text-gray-600 dark:text-gray-300">Team</p>
		</div>
	</div>

	<!-- Pictures -->
	<div class="space-y-4">
		<label class="block text-sm font-semibold text-gray-700 dark:text-gray-300">Pictures</label>

		<div class="grid grid-cols-2 sm:grid-cols-3 gap-4">
			@for (pic of pictures; track pic.url) {
				<div
					class="relative group rounded-xl overflow-hidden shadow-md hover:shadow-lg transition"
				>
					<img
						[src]="pic.url"
						alt="Stadium picture"
						class="w-full h-28 object-cover rounded-xl border border-gray-300 dark:border-gray-600"
					/>

					<button
						(click)="handleRemovePicture(pic)"
						class="absolute top-2 right-2 cursor-pointer bg-red-600 text-white text-xs px-2 py-1 rounded-md shadow-md"
					>
						âœ• Remove
					</button>
				</div>
			}
		</div>

		<!-- Add new picture -->
		@if (verifyPictures()) {
			<div class="flex flex-col sm:flex-row gap-4 mt-4 items-center">
				<label class="relative inline-block cursor-pointer group">
					<input
						type="file"
						accept="image/webp"
						(change)="handleFileUpload($event)"
						class="absolute inset-0 opacity-0 cursor-pointer"
					/>
					<div class="flex items-center gap-2 px-5 py-2 app-button">
						<svg
							class="w-4 h-4"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
							viewBox="0 0 24 24"
						>
							<path stroke-linecap="round" stroke-linejoin="round" d="M12 4v16m8-8H4" />
						</svg>
						Upload Picture
					</div>
				</label>
				<span class="text-sm font-medium text-gray-700 dark:text-gray-300">
					Only <strong>.webp</strong> images are supported for stadium pictures
				</span>
			</div>
		}
	</div>

	<!-- Actions -->
	<app-action-buttons (goBack)="goToEditMenu()" (confirm)="confirm()"></app-action-buttons>

	<!-- Modals -->
	@if (success) {
		<app-success-modal [message]="successMessage" (continue)="success = false"></app-success-modal>
	}

	@if (loading) {
		<app-loading-modal [message]="'Uploading the image...'"></app-loading-modal>
	}

	@if (openConfirmationModal) {
		<app-remove-confirmation-modal
			[title]="'Are you sure you want to remove this picture?'"
			[contentMessage]="`This action cannot be undone. The picture will be removed from the stadium's picture list.`"
			[buttonContent]="'Yes, Remove'"
			[isDelete]="true"
			(confirm)="removePicture()"
			(cancel)="cancelConfirmationModal()"
		/>
	}

	@if (error) {
		<app-error-modal [title]="errorMessage" (cancel)="error = false"></app-error-modal>
	}

	@if (finish) {
		<app-success-modal
			[message]="'Changes applied successfully'"
			(continue)="goToEditMenu()"
		></app-success-modal>
	}
</div>