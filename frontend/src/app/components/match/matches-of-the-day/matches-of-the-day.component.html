<h2 class="text-3xl font-semibold mb-4 text-center">ðŸ“… Today's Schedule</h2>

@if (errorMessage) {
    <div class="text-center text-red-500">
        {{ errorMessage }}
    </div>
}

@if (matches.length === 0 && !errorMessage) {
    <div class="text-center text-gray-500 dark:text-gray-400 italic">
        No matches scheduled for today
    </div>
}

@if (matches.length > 0) {
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        @for (match of matches; track match.date) {
            <div class="landing-games-dashboard-subcontainer">
                <div class="flex items-center justify-between w-full mb-2">
                    <div class="flex items-center gap-2">
                        <div class="w-10 h-10 rounded-full flex items-center justify-center overflow-hidden"
                             [ngClass]="backgroundService.getBackgroundColor(match.awayTeam.abbreviation)">
                            <img
                                class="w-full h-full object-contain p-1"
                                src="assets/team-logos-new/{{ match.awayTeam.league }}/{{ match.awayTeam.division }}/{{ match.awayTeam.abbreviation }}.png"
                                alt="{{ match.awayTeam.abbreviation }} logo"
                            />
                        </div>
                        <span [matTooltip]="match.awayTeam.name" matTooltipPosition="below" class="font-semibold">
							{{ match.awayTeam.abbreviation }}
						</span>
                    </div>

                    <div class="flex flex-col items-center">
                        @if (match.status === 'SCHEDULED') {
                            <span class="font-semibold text-gray-600 dark:text-gray-300">vs</span>
                        }
                        @else {
                            <div class="px-3 py-1 bg-gray-200 dark:bg-gray-700 rounded-full text-sm font-bold">
                                {{ match.awayScore }} - {{ match.homeScore }}
                            </div>

                            <span class="text-xs font-medium text-gray-600 dark:text-gray-400 italic">
                                {{ match.status === 'FINISHED' ? 'Final' : 'In Progress' }}
                            </span>
                        }
                    </div>

                    <div class="flex items-center gap-2">
                        <span [matTooltip]="match.homeTeam.name" matTooltipPosition="below" class="font-semibold">
							{{ match.homeTeam.abbreviation }}
						</span>
                        <div class="w-10 h-10 rounded-full flex items-center justify-center overflow-hidden"
                             [ngClass]="backgroundService.getBackgroundColor(match.homeTeam.abbreviation)">
                            <img
                                class="w-full h-full object-contain p-1"
                                src="assets/team-logos-new/{{ match.homeTeam.league }}/{{ match.homeTeam.division }}/{{ match.homeTeam.abbreviation }}.png"
                                alt="{{ match.homeTeam.abbreviation }} logo"
                            />
                        </div>
                    </div>
                </div>

                <div class="text-center pt-2 mt-2">
                    <div class="text-sm text-gray-600 dark:text-gray-300">
                        <span class="font-medium">{{ match.date | date : 'mediumDate' }}</span>
                        <span class="mx-1">â€¢</span>
                        <span class="text-xs">{{ match.date | date : 'HH:mm' }}</span>
                    </div>
                    <div class="flex items-center justify-center gap-1 text-[10px] uppercase tracking-wider font-bold text-gray-600 dark:text-gray-300 mt-1">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        {{ match.stadiumName }}
                    </div>
                </div>
            </div>
        }
    </div>

    @if (hasMore && matches.length > 0) {
        <div class="text-center mt-8">
            <button
                class="px-8 py-3 cursor-pointer bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-full transition-all shadow-lg hover:scale-105 active:scale-95"
                (click)="loadNextPage()"
            >
                âš¾ Load More Games
            </button>
        </div>
    }
}