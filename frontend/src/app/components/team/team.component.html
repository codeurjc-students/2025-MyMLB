<div
	class="app-background min-h-screen text-gray-900 dark:text-white px-6 py-16 space-y-24 flex flex-col items-center"
>

	@if (team) {
		<!-- Team Header -->
		<section class="flex flex-col md:flex-row items-center justify-center gap-6 w-full text-center overflow-visible">
			<div
				class="w-32 h-32 rounded-full shadow-lg flex items-center justify-center"
				[ngClass]="backgroundLogo(team.teamStats.abbreviation)"
			>
				<img
				src="assets/team-logos-new/{{ team.teamStats.league }}/{{
					team.teamStats.division
				}}/{{ team.teamStats.abbreviation }}.png"
				alt="Team Logo"
				class="w-24 h-24 object-contain"
				/>
			</div>
			<h1
				class="text-6xl leading-[1.5] font-extrabold bg-gradient-to-r from-blue-500 via-indigo-500 to-purple-500 bg-clip-text text-transparent drop-shadow-xl break-words max-w-[90vw]"
			>
				{{ team.teamStats.name }}
			</h1>
		</section>

		<!-- Informatiom Section -->
		<section class="w-full max-w-5xl team-section-container text-center">
			<h2 class="text-4xl font-bold mb-6 text-blue-800 dark:text-blue-300">About the Team</h2>
			<p class="text-lg leading-relaxed">{{ team.generalInfo }}</p>
		</section>

		<!-- Championships Section -->
		<div class="w-full max-w-6xl team-section-container text-center">
			<h2 class="text-4xl font-bold mb-6 text-blue-800 dark:text-blue-300">Championships</h2>
			<div class="grid grid-cols-3 md:grid-cols-6 gap-8 justify-center">
				@if(championships.length === 0) {
					<div class="col-span-3 md:col-span-6 flex justify-center items-center w-full">
						<p class="text-2xl font-bold text-black dark:text-white whitespace-nowrap">
							No championships won yet
						</p>
					</div>
				}
				@else {
					@for (champion of championships; track champion) {
						<div class="flex flex-col items-center space-y-2">
							<img src="/assets/trophy.png" alt="WS Trophy" class="trophy glow-hover">
							<span class="text-lg font-medium">{{ champion }}</span>
						</div>
					}
				}
			</div>
		</div>

		<!-- Stadium Section -->
		<section class="w-full max-w-6xl team-section-container text-center">
			<h2 class="text-4xl font-bold mb-6 text-blue-800 dark:text-blue-300">Stadium</h2>
			<p class="text-xl font-semibold">{{ team.stadium.name }}</p>
			<p class="text-sm text-gray-600 dark:text-gray-300 mb-6">
				Opening Date: {{ team.stadium.openingDate }}
			</p>

			<!-- Carousel Container -->
			<div class="relative">
				<!-- Image Track -->
				<div class="relative w-full flex justify-center h-80">
					<img
						[src]="stadiumImages[currentIndex]"
						class="absolute w-[36rem] h-80 rounded-xl shadow-xl object-cover transition-opacity duration-700 ease-in-out"
						[ngClass]="{
							'opacity-0': isTransitioning,
							'opacity-100': !isTransitioning
						}"
						alt="Stadium image"
					/>
				</div>

				<!-- Left Button -->
				<button
					(click)="scrollCarousel('left')"
					class="absolute top-1/2 left-0 transform -translate-y-1/2 bg-blue-700 text-white px-3 py-2 rounded-full shadow hover:bg-blue-800 transition"
				>
					←
				</button>

				<!-- Right Button -->
				<button
					(click)="scrollCarousel('right')"
					class="absolute top-1/2 right-0 transform -translate-y-1/2 bg-blue-700 text-white px-3 py-2 rounded-full shadow hover:bg-blue-800 transition"
				>
					→
				</button>

				<!-- Dots -->
				<div class="flex justify-center mt-4 space-x-2">
					@for (img of stadiumImages; let i = $index; track img) {
						<div
							class="w-3 h-3 rounded-full cursor-pointer transition-all"
							[ngClass]="{
								'bg-blue-700': i === currentIndex,
								'bg-gray-400 dark:bg-gray-600': i !== currentIndex
							}"
							(click)="goToSlide(i)"
						></div>
					}
				</div>
			</div>
		</section>

		<!-- Stats Section -->
		<section class="w-full max-w-6xl">
			<app-stats-panel id="team-stats" [teamStats]="true" [team]="team" [teamRank]="teamRank"></app-stats-panel>
		</section>

		<!-- Position Players Section -->
		<section class="w-full max-w-6xl team-section-container text-center">
			<h2 class="text-4xl font-bold mb-6 text-blue-800 dark:text-blue-300">Position Players</h2>
			<div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8 justify-center">
				@for (player of positionPlayers; track player.name) {
				<div id="position-player-card"
					class="bg-white dark:bg-slate-700 rounded-lg shadow-md p-4 flex flex-col items-center hover:scale-[1.03] transition cursor-pointer"
					(click)="selectPlayer(player)"
					>
					<img
						src="assets/judge.png"
						alt="{{ player.name }}"
						class="w-24 h-24 rounded-full object-cover mb-2"
					/>
					<p class="font-semibold">{{ player.name }}</p>
					<p class="text-sm text-gray-500 dark:text-gray-300">{{ player.position }}</p>
				</div>
				}
			</div>
		</section>

		<!-- Pitchers Section -->
		<section class="w-full max-w-6xl team-section-container text-center">
			<h2 class="text-4xl font-bold mb-6 text-blue-800 dark:text-blue-300">Pitchers</h2>
			<div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-8 justify-center">
				@for (pitcher of pitchers; track pitcher.name) {
					<div id="pitcher-card"
						class="bg-white dark:bg-slate-700 rounded-lg shadow-md p-4 flex flex-col items-center hover:scale-[1.03] transition cursor-pointer"
						(click)="selectPlayer(pitcher)"
					>
						<img
							src="assets/account-avatar.png"
							alt="{{ pitcher.name }}"
							class="w-24 h-24 rounded-full object-cover mb-2"
						/>
						<p class="font-semibold">{{ pitcher.name }}</p>
						<p class="text-sm text-gray-500 dark:text-gray-300">{{ pitcher.position }}</p>
					</div>
				}
			</div>
		</section>

		@if (selectedPlayer) {
			<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fadeIn">
				<div class="w-full max-w-6xl">
					<app-stats-panel id="player-stats" [teamStats]="false" [player]="selectedPlayer" (close)="selectedPlayer = null" />
				</div>
			</div>
		}
	}
</div>