<div
	class="fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm"
	[ngClass]="isClose ? 'animate-fade-out-down' : 'animate-fade-in-up'"
	[appEscapeClose]="closeMatchMiniature">

	<div class="bg-white dark:bg-gray-800 rounded-2xl shadow-2xl w-11/12 max-w-md p-6 text-center relative transform transition-all animate-scaleIn">

		<button
			type="button"
			(click)="closeMatchMiniature()"
			class="absolute top-3 right-3 text-gray-400 cursor-pointer hover:text-gray-700 dark:hover:text-gray-200 transition"
			>
			<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
				stroke-width="2" stroke="currentColor" class="w-6 h-6">
				<path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
			</svg>
    	</button>

		<div class="flex items-center justify-between w-full mb-2 mt-10">
			<!-- Away team -->
			<div class="flex items-center gap-2">
				<div
					class="team-logo-container"
					[ngClass]="backgroundService.getBackgroundColor(match.awayTeam.abbreviation)"
				>
					<img
						class="w-full h-full object-contain"
						src="assets/team-logos-new/{{ match.awayTeam.league }}/{{
							match.awayTeam.division
						}}/{{ match.awayTeam.abbreviation }}.png"
						alt="{{ match.awayTeam.abbreviation }} logo"
					/>
				</div>
				<span class="font-semibold">{{ match.awayTeam.abbreviation }}</span>
			</div>

			<!-- Center section -->
			<div class="flex flex-col items-center">
				@if (match.status === 'SCHEDULED') {
					<span class="font-semibold text-gray-500 dark:text-gray-300">vs</span>
				}
				@else {
					<div class="px-3 py-1 bg-gray-200 dark:bg-gray-600 rounded-full text-sm font-bold">
						{{ match.awayScore }} - {{ match.homeScore }}
					</div>

					<span class="text-xs font-medium text-gray-600 dark:text-gray-300 italic">
						{{ match.status === 'FINISHED' ? 'Final' : 'In Progress' }}
					</span>
				}
			</div>

			<!-- Home team -->
			<div class="flex items-center gap-2">
				<span class="font-semibold">{{ match.homeTeam.abbreviation }}</span>
				<div
					class="w-10 h-10 rounded-full flex items-center justify-center overflow-hidden shadow-sm"
					[ngClass]="backgroundService.getBackgroundColor(match.homeTeam.abbreviation)"
				>
					<img
						class="w-full h-full object-contain"
						src="assets/team-logos-new/{{ match.homeTeam.league }}/{{
							match.homeTeam.division
						}}/{{ match.homeTeam.abbreviation }}.png"
						alt="{{ match.homeTeam.abbreviation }} logo"
					/>
				</div>
			</div>
		</div>

		<!-- Date and time -->
		<div class="text-center text-sm text-gray-600 dark:text-gray-300">
			<span>{{ match.date | date : 'mediumDate' }}</span
			><br />
			<span class="text-xs">{{ match.date | date : 'HH:mm' }}</span>
		</div>

		<!-- Buy Tickets Button -->
		@if (homeMatch) {
			<div class="mt-9 flex justify-center">
				<button
					class="px-6 py-3 text-lg font-semibold text-white rounded-lg shadow-md bg-gradient-to-br from-sky-600 via-sky-700 to-sky-800 hover:brightness-125 hover:shadow-lg transition-all duration-300 ease-out cursor-pointer dark:from-indigo-900 dark:via-blue-900 dark:to-sky-800"
				>
					Buy Tickets
				</button>
			</div>
		}
	</div>
</div>