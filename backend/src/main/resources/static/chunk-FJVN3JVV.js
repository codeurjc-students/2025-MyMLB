import{a as i}from"./chunk-UM6U26ZR.js";import{U as s,Z as o,l as p,xc as n}from"./chunk-GAK5OYFS.js";var u=class t{http=o(n);userApi=`${i.apiUrl}/support`;adminApi=`${i.apiUrl}/admin/support/tickets`;openTicketsSubject=new p(0);opentTickets$=this.openTicketsSubject.asObservable();updateCurrentOpenTickets(){this.getOpenTickets().subscribe({next:e=>this.openTicketsSubject.next(e?e.length:0),error:e=>this.openTicketsSubject.next(0)})}createTicket(e){return this.http.post(this.userApi,e)}getOpenTickets(){return this.http.get(this.adminApi)}getConversation(e){return this.http.get(`${this.adminApi}/${e}/conversation`)}reply(e,r){return this.http.post(`${this.adminApi}/${e}/reply`,r)}closeTicket(e){return this.http.post(`${this.adminApi}/${e}/close`,{})}static \u0275fac=function(r){return new(r||t)};static \u0275prov=s({token:t,factory:t.\u0275fac,providedIn:"root"})};export{u as a};
