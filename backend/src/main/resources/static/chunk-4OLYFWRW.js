import{d}from"./chunk-GKKN432Z.js";import{K as p,N as s,R as c,Vb as f,j as u,q as l}from"./chunk-B6ZYOL7O.js";var m=class i{selectedTeamSubject=new u(null);selectedTeam$=this.selectedTeamSubject.asObservable();constructor(){window.SelectedTeamServiceInit&&window.SelectedTeamServiceInit(this)}setSelectedTeam(e){this.selectedTeamSubject.next(e)}clearSelectedTeam(){this.selectedTeamSubject.next(null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})};var v=class i{constructor(e,t,r){this.http=e;this.selectedTeamService=t;this.router=r}url="https://localhost:8443/api/teams";getStandings(){return this.http.get(`${this.url}/standings`)}getTeamInfo(e){return this.http.get(`${this.url}/${e}`)}selectTeam(e){return this.getTeamInfo(e).pipe(p(t=>this.selectedTeamService.setSelectedTeam(t)),p(()=>this.router.navigate(["team",e])))}getTeamsNamesAndAbbr(){return this.getStandings().pipe(l(e=>{let t=[];for(let r of Object.keys(e)){let n=e[r];for(let o of Object.keys(n)){let b=n[o];for(let a of b)t.push({name:a.name,abbreviation:a.abbreviation,league:r,division:o})}}return t.sort((r,n)=>r.name.localeCompare(n.name)),t}))}getTeamDivisionRank(e){return this.getStandings().pipe(l(t=>{for(let r of Object.keys(t)){let n=t[r];for(let o of Object.keys(n)){let a=n[o].findIndex(T=>T.abbreviation===e);if(a!==-1)return a+1}}return-1}))}static \u0275fac=function(t){return new(t||i)(c(f),c(m),c(d))};static \u0275prov=s({token:i,factory:i.\u0275fac,providedIn:"root"})};export{m as a,v as b};
