import{a as L}from"./chunk-FS7BI3JN.js";import{a as D,c as z,e as H,g as A,r as F,t as O}from"./chunk-OVSCX6ZC.js";import{c as q,e as B}from"./chunk-UU3BY3MI.js";import{b as G}from"./chunk-LCHLIRBO.js";import{Ab as a,Cb as c,Da as o,Db as I,Eb as M,Fb as V,Gb as T,Pa as k,Qb as j,Sb as N,Z as v,bb as f,ca as p,da as u,db as h,ea as g,fa as _,gb as C,hb as y,ib as w,jb as t,kb as n,lb as s,oc as R,pb as x,qb as b,rc as P,sb as m,xb as S}from"./chunk-4OKKS3IJ.js";var $=(i,r)=>r.id;function U(i,r){if(i&1){let e=x();t(0,"div",19)(1,"div",26)(2,"h3",27),a(3),n(),t(4,"div",28)(5,"span",29),g(),t(6,"svg",30),s(7,"path",31),n(),a(8),n(),_(),t(9,"div",32),s(10,"div",33),n()()(),t(11,"div",34)(12,"label",35),a(13,"Price ($)"),n(),t(14,"div",36)(15,"span",37),a(16,"$"),n(),t(17,"input",38),T("ngModelChange",function(l){let E=p(e).$implicit;return V(E.price,l)||(E.price=l),u(l)}),n()()()()}if(i&2){let e=r.$implicit;o(3),c(" ",e.sectorName," "),o(5),I(" ",e.availability," / ",e.totalCapacity," "),o(2),S("width",e.availability/e.totalCapacity*100,"%"),o(7),M("ngModel",e.price)}}function J(i,r){if(i&1){let e=x();t(0,"div",4)(1,"div",5)(2,"div",6)(3,"h2",7),a(4),t(5,"span",8),a(6,"VS"),n(),a(7),n()(),t(8,"div",9)(9,"p",10),g(),t(10,"svg",11),s(11,"path",12)(12,"path",13),n(),a(13),n(),_(),t(14,"p",14),a(15),j(16,"date"),n()()()(),t(17,"div",15)(18,"div",5)(19,"h2",16),a(20," Edit "),t(21,"span",17),a(22,"Prices"),n()()()(),t(23,"div",18),C(24,U,18,6,"div",19,$),n(),t(26,"div",20)(27,"button",21),b("click",function(){p(e);let l=m();return u(l.editEvent())}),s(28,"span",22),t(29,"span",23),g(),t(30,"svg",24),s(31,"path",25),n(),a(32," Save Changes "),n()()()}if(i&2){let e=m();o(4),c(" ",e.eventInfo.awayTeamName," "),o(3),c(" ",e.eventInfo.homeTeamName," "),o(6),c(" ",e.eventInfo.stadiumName," "),o(2),c(" ",N(16,4,e.eventInfo.date,"fullDate")," "),o(9),y(e.eventInfo.sectors)}}function K(i,r){i&1&&(s(0,"div",39),t(1,"div",18),s(2,"div",40)(3,"div",40),n())}function Q(i,r){if(i&1){let e=x();t(0,"app-success-modal",41),b("continue",function(){p(e);let l=m();return u(l.goToMenu())}),n()}if(i&2){let e=m();w("message",e.successMessage)}}function X(i,r){if(i&1){let e=x();t(0,"app-error-modal",42),b("cancel",function(){p(e);let l=m();return u(l.error=!1)}),n()}if(i&2){let e=m();w("title",e.errorMessage)}}var W=class i{eventService=v(L);route=v(q);router=v(B);eventId;eventInfo=null;success=!1;error=!1;successMessage="";errorMessage="";ngOnInit(){this.route.queryParams.subscribe(r=>{this.eventId=+r.eventId,this.eventId&&this.eventService.getEventById(this.eventId).subscribe({next:e=>{this.eventInfo=e},error:e=>{this.error=!0,this.errorMessage="Error fetching the match information"}})})}prepareRequest(){return{eventId:this.eventId,sectorIds:this.eventInfo?.sectors.map(r=>r.sectorId),prices:this.eventInfo?.sectors.map(r=>r.price)}}editEvent(){let r=this.prepareRequest();this.eventService.editEvent(r).subscribe({next:e=>{this.success=!0,this.successMessage="Event Successfully Modified"},error:e=>{this.error=!0,this.errorMessage="An error occur while attempting to modified the event"}})}goToMenu(){this.router.navigate(["/"])}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=k({type:i,selectors:[["app-edit-event"]],decls:6,vars:3,consts:[[1,"min-h-screen","app-background","p-4","md:p-8","animate-fadeIn"],[1,"max-w-4xl","mx-auto"],[3,"message"],[3,"title"],[1,"max-w-7xl","mx-auto","mb-8","bg-white/80","dark:bg-gray-800/80","backdrop-blur-md","rounded-3xl","p-6","shadow-xl","border","border-white/20","animate-fadeInUpSmooth"],[1,"flex","flex-col","md:flex-row","justify-between","items-center","gap-4"],[1,"flex","items-center","gap-6"],[1,"text-2xl","md:text-3xl","font-black","text-gray-800","dark:text-white","tracking-tight"],[1,"text-indigo-500","mx-2","text-xl","font-light"],[1,"text-center","md:text-right"],[1,"text-md","font-bold","text-indigo-600","dark:text-sky-400","flex","items-center","justify-center","md:justify-end","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 11a3 3 0 11-6 0 3 3 0 016 0z"],[1,"text-gray-500","dark:text-gray-400","text-sm","font-medium","italic"],[1,"mb-8","bg-white/80","dark:bg-gray-800/80","backdrop-blur-md","rounded-3xl","p-6","shadow-xl","border","border-white/20","animate-fadeInUpSmooth",2,"animation-delay","0.1s"],[1,"text-3xl","font-black","text-gray-800","dark:text-white","tracking-tight","uppercase"],[1,"text-indigo-600","dark:text-sky-400"],[1,"space-y-4"],[1,"bg-white","dark:bg-gray-800","rounded-3xl","p-6","shadow-lg","border","border-gray-100","dark:border-gray-700","flex","flex-col","md:flex-row","items-center","justify-between","gap-6","hover:shadow-2xl","transition-all","duration-300","group"],[1,"mt-12","flex","justify-center","pb-12"],[1,"app-button","px-16","py-4","uppercase","font-black","tracking-widest","transition-all","duration-300","group",3,"click"],[1,"app-button-bright"],[1,"app-button-texts","flex","items-center","gap-2"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","group-hover:rotate-12","transition-transform"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"],[1,"flex-1"],[1,"text-xl","font-black","text-indigo-600","dark:text-sky-400","uppercase","tracking-tight","mb-1"],[1,"flex","items-center","gap-4"],[1,"flex","items-center","gap-1.5","text-sm","font-bold","text-gray-500","dark:text-gray-400"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"],[1,"h-1.5","w-24","bg-gray-100","dark:bg-gray-700","rounded-full","overflow-hidden"],[1,"h-full","bg-emerald-500"],[1,"w-full","md:w-auto","flex","flex-col","items-center","md:items-end"],[1,"text-[10px]","font-black","uppercase","tracking-[0.2em]","text-gray-400","mb-1","mr-1"],[1,"relative"],[1,"absolute","left-4","top-1/2","-translate-y-1/2","text-emerald-500","font-bold"],["type","number","placeholder","0.00",1,"text-inputs","w-full","md:w-40","pl-8","pr-4","py-3","text-center","font-black","text-lg","border-2","border-transparent","focus:border-indigo-500","transition-all",3,"ngModelChange","ngModel"],[1,"max-w-4xl","mx-auto","mb-8","animate-pulse","bg-gray-200","dark:bg-gray-700","h-24","rounded-3xl"],[1,"h-24","bg-gray-200","dark:bg-gray-700","rounded-3xl","animate-pulse"],[3,"continue","message"],[3,"cancel","title"]],template:function(e,d){e&1&&(t(0,"div",0)(1,"div",1),f(2,J,33,7)(3,K,4,0),n(),f(4,Q,1,1,"app-success-modal",2),f(5,X,1,1,"app-error-modal",3),n()),e&2&&(o(2),h(d.eventInfo?2:3),o(2),h(d.success?4:-1),o(),h(d.error?5:-1))},dependencies:[P,F,D,A,z,H,G,O,R],encapsulation:2})};export{W as EditEventComponent};
