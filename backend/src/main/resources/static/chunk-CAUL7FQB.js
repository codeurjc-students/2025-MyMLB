import{a as W}from"./chunk-MRUH6EHY.js";import{a as N}from"./chunk-MSLNWPFK.js";import{a as I,c as D,e as k,g as T,n as E,o as V,r as R,t as B}from"./chunk-OVSCX6ZC.js";import{e as v}from"./chunk-UU3BY3MI.js";import{b as q}from"./chunk-LCHLIRBO.js";import{Ab as d,Da as u,Eb as y,Fb as b,Gb as h,Hb as M,Ia as f,Pa as x,bb as C,ca as c,da as g,db as _,ib as l,jb as i,kb as n,pb as S,qb as p,rc as w,sb as m}from"./chunk-4OKKS3IJ.js";function F(r,s){if(r&1){let e=S();i(0,"app-success-modal",11),p("continue",function(){c(e);let a=m();return g(a.returnToHome())}),n()}if(r&2){let e=m();l("message",e.successMessage)}}function H(r,s){if(r&1){let e=S();i(0,"app-error-modal",12),p("cancel",function(){c(e);let a=m();return g(a.error=!1)}),n()}if(r&2){let e=m();l("title",e.errorMessage)}}var A=class r{constructor(s,e){this.stadiumService=s;this.router=e}nameInput="";openingDateInput=void 0;success=!1;error=!1;successMessage="";errorMessage="";buildRequest(){return{name:this.nameInput,openingDate:this.openingDateInput}}saveChanges(){let s=this.buildRequest();this.stadiumService.createStadium(s).subscribe({next:e=>{this.success=!0,this.successMessage=`${e.name} successfully created`},error:e=>{this.error=!0,this.nameInput===""||this.openingDateInput===void 0?this.errorMessage="All the fields are required":this.errorMessage="A stadium with this name already exists"}})}returnToHome(){this.router.navigate(["/"])}getCurrentYear(){return new Date().getFullYear()}static \u0275fac=function(e){return new(e||r)(f(W),f(v))};static \u0275cmp=x({type:r,selectors:[["app-create-stadium"]],decls:16,vars:6,consts:[[1,"app-background","min-h-screen","text-gray-900","dark:text-white","px-6","py-16","space-y-12","flex","flex-col","items-center"],[1,"w-full","max-w-3xl","team-section-container","space-y-10","animate-fade-in"],[1,"text-xl","text-center","app-page-titles"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"flex","flex-col"],[1,"text-sm","font-medium","text-gray-600","dark:text-gray-300","mb-1"],["type","text","placeholder","e.g., Shippett Stadium",1,"px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-700","text-gray-800","dark:text-gray-200","shadow-inner","focus:outline-none","focus:ring-2","focus:ring-blue-700",3,"ngModelChange","ngModel"],["type","number","placeholder","e.g., 1923","min","1800",1,"px-4","py-2","rounded-lg","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-700","text-gray-800","dark:text-gray-200","shadow-inner","focus:outline-none","focus:ring-2","focus:ring-blue-700",3,"ngModelChange","ngModel","max"],[3,"goBack","confirm"],[3,"message"],[3,"title"],[3,"continue","message"],[3,"cancel","title"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"Create Stadium"),n(),i(4,"div",3)(5,"div",4)(6,"label",5),d(7,"Name"),n(),i(8,"input",6),h("ngModelChange",function(o){return b(t.nameInput,o)||(t.nameInput=o),o}),n()(),i(9,"div",4)(10,"label",5),d(11,"Opening year"),n(),i(12,"input",7),h("ngModelChange",function(o){return b(t.openingDateInput,o)||(t.openingDateInput=o),o}),n()()(),i(13,"app-action-buttons",8),p("goBack",function(){return t.returnToHome()})("confirm",function(){return t.saveChanges()}),n(),C(14,F,1,1,"app-success-modal",9),C(15,H,1,1,"app-error-modal",10),n()()),e&2&&(u(8),y("ngModel",t.nameInput),u(4),l("max",M(t.getCurrentYear())),y("ngModel",t.openingDateInput),u(2),_(t.success?14:-1),u(),_(t.error?15:-1))},dependencies:[w,R,I,T,D,V,E,k,q,B,N],encapsulation:2})};export{A as CreateStadiumComponent};
