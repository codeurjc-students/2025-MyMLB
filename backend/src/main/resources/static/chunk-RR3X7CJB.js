import{a as te}from"./chunk-UZGF4XIP.js";import{a as L,c as Q}from"./chunk-TXIPLVKL.js";import{a as $}from"./chunk-6MSJJXHK.js";import{b as q}from"./chunk-EIZO4MGF.js";import"./chunk-NRPEG6UI.js";import{a as ee}from"./chunk-EXDF6GWC.js";import{a as D,c as H,e as O,g as j,k as z,l as G,m as Y,o as Z,r as J,t as X}from"./chunk-332QIL6S.js";import{e as A}from"./chunk-IZW5FDFG.js";import{a as K,b as U}from"./chunk-HDDW6YC7.js";import"./chunk-UM6U26ZR.js";import{Ab as m,Bb as k,Da as s,Eb as g,Fb as y,Gb as _,Ia as d,Lb as N,Mb as B,Pa as M,Qb as E,Rb as V,bb as h,ca as C,da as f,db as b,ea as S,fa as T,fb as w,gb as x,hb as I,ib as p,jb as i,kb as n,lb as P,lc as F,nc as R,pb as v,qb as c,rc as W,sb as u}from"./chunk-GAK5OYFS.js";var ne=r=>({"rotate-180":r}),ae=()=>[];function oe(r,l){if(r&1&&(i(0,"option",19),m(1),n()),r&2){let t=l.$implicit;p("value",t),s(),k(t)}}function re(r,l){if(r&1){let t=v();i(0,"app-success-modal",26),c("continue",function(){C(t);let a=u();return f(a.returnToHome())}),n()}if(r&2){let t=u();p("message",t.successMessage)}}function le(r,l){if(r&1){let t=v();i(0,"app-success-modal",26),c("continue",function(){C(t);let a=u();return f(a.closeSuccessModal())}),n()}if(r&2){let t=u();p("message",t.successMessage)}}function se(r,l){if(r&1){let t=v();i(0,"app-error-modal",27),c("cancel",function(){C(t);let a=u();return f(a.error=!1)}),n()}if(r&2){let t=u();p("title",t.errorMessage)}}var ie=class r{constructor(l,t,e,a){this.playerService=l;this.teamService=t;this.selector=e;this.router=a}nameInput="";playerNumberInput=void 0;teamNameInput="";positionInput="";success=!1;error=!1;selectTeamButtonClicked=!1;isClose=!1;selectedTeam=!1;availableTeams=[];errorMessage="";successMessage="";pageSize=10;availablePositions=["C","1B","2B","3B","SS","LF","CF","RF","DH","SP","CP","RP"];pitcherPositions=["SP","RP","CP"];positionPlayerPositions=["C","1B","2B","3B","SS","LF","CF","RF","DH"];isPositionInputOpen=!1;buildRequest(){return{name:this.nameInput,playerNumber:this.playerNumberInput,teamName:this.teamNameInput,position:this.positionInput}}ngOnInit(){}isPitcher(){return this.pitcherPositions.includes(this.positionInput)}isPositionPlayer(){return this.positionPlayerPositions.includes(this.positionInput)}createPlayer(){let l=this.buildRequest();this.isPitcher()?this.createPlayerByType(()=>this.playerService.createPitcher(l)):this.isPositionPlayer()?this.createPlayerByType(()=>this.playerService.createPositionPlayer(l)):(this.error=!0,this.errorMessage="All the fields are required")}createPlayerByType(l){l().subscribe({next:t=>{this.success=!0,this.successMessage=`${t.name}  successfully created`},error:t=>{this.error=!0,this.errorMessage=t?.error?.message??"All the fields are required"}})}showTeamsModal(){this.selectTeamButtonClicked=!0,this.selector.reset(),this.selector.loadPage(0,this.pageSize,this.teamService.getAvailableTeams.bind(this.teamService))}closeTeamModal=()=>{this.isClose=!0,setTimeout(()=>{this.selectTeamButtonClicked=!1,this.isClose=!1},300)};closeSuccessModal(){this.selectedTeam=!1,this.selectTeamButtonClicked=!1}selectTeam(l){let t=l;this.selectedTeam=!0,this.successMessage="Team Selected",this.teamNameInput=this.selector.select(t,e=>e.name)}loadNextPage(){this.selector.loadNextPage(this.pageSize,this.teamService.getAvailableTeams.bind(this.teamService))}returnToHome(){this.router.navigate(["/"])}togglePositionInput(l){this.isPositionInputOpen=l}static \u0275fac=function(t){return new(t||r)(d(te),d(q),d(Q),d(A))};static \u0275cmp=M({type:r,selectors:[["app-create-player"]],decls:40,vars:20,consts:[[1,"app-background","min-h-screen","text-gray-900","dark:text-white","px-6","py-16","space-y-12","flex","flex-col","items-center"],[1,"w-full","max-w-3xl","mx-auto","team-section-container","space-y-10","animate-fade-in"],[1,"flex","items-center","justify-center","gap-10"],[1,"text-xl","text-center","app-page-titles"],["matTooltipPosition","above","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke-width","1.5","stroke","currentColor",1,"w-15","h-15","opacity-70","hover:opacity-100","transition-opacity","cursor-help",3,"matTooltip"],["stroke-linecap","round","stroke-linejoin","round","d","m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"flex","flex-col"],[1,"text-sm","font-semibold","text-gray-600","dark:text-gray-300","mb-1"],["type","text","placeholder","e.g., Aaron Judge",1,"px-4","py-2","rounded-md","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-800","text-gray-800","dark:text-gray-200","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],["type","number","placeholder","99","min","0",1,"px-3","py-2","rounded-md","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-800","text-gray-800","dark:text-gray-200","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-600","text-center",3,"ngModelChange","ngModel"],[1,"flex","flex-col","md:col-span-2"],[1,"flex","items-center","gap-3"],["type","text","placeholder","e.g., New York Yankees",1,"flex-1","px-4","py-2","rounded-md","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-800","text-gray-800","dark:text-gray-200","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","ngModel"],["type","button",1,"px-4","py-2","app-button","group","tracking-widest",3,"click"],[1,"app-button-bright"],[1,"app-button-texts"],[1,"relative","w-full"],["placholder","Select the position...",1,"appearance-none","w-full","pr-10","px-3","py-2","rounded-md","border","border-gray-300","dark:border-gray-600","bg-white","dark:bg-gray-800","text-gray-800","dark:text-white","focus:outline-none","focus:ring-2","focus:ring-blue-600",3,"ngModelChange","focus","blur","change","ngModel"],[3,"value"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"absolute","right-3","top-1/2","-translate-y-1/2","w-5","h-5","text-gray-500","pointer-events-none","transition-transform","duration-300","ease-in-out",3,"ngClass"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 9l-7 7-7-7"],[3,"goBack","confirm"],[3,"select","loadNextPageFunction","closeModal","teamElements","openModal","isClose","hasMore","elements","appEscapeClose"],[3,"message"],[3,"title"],[3,"continue","message"],[3,"cancel","title"]],template:function(t,e){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),m(4,"Create Player"),n(),S(),i(5,"svg",4),P(6,"path",5),n()(),T(),i(7,"div",6)(8,"div",7)(9,"label",8),m(10,"Name"),n(),i(11,"input",9),_("ngModelChange",function(o){return y(e.nameInput,o)||(e.nameInput=o),o}),n()(),i(12,"div",7)(13,"label",8),m(14,"Player #"),n(),i(15,"input",10),_("ngModelChange",function(o){return y(e.playerNumberInput,o)||(e.playerNumberInput=o),o}),n()(),i(16,"div",11)(17,"label",8),m(18,"Team"),n(),i(19,"div",12)(20,"input",13),_("ngModelChange",function(o){return y(e.teamNameInput,o)||(e.teamNameInput=o),o}),n(),i(21,"button",14),c("click",function(){return e.showTeamsModal()}),P(22,"span",15),i(23,"span",16),m(24,"Select Team"),n()()()(),i(25,"div",7)(26,"label",8),m(27,"Position"),n(),i(28,"div",17)(29,"select",18),_("ngModelChange",function(o){return y(e.positionInput,o)||(e.positionInput=o),o}),c("focus",function(){return e.togglePositionInput(!0)})("blur",function(){return e.togglePositionInput(!1)})("change",function(){return e.togglePositionInput(!1)}),x(30,oe,2,2,"option",19,w),n(),S(),i(32,"svg",20),P(33,"path",21),n()()()(),T(),i(34,"app-action-buttons",22),c("goBack",function(){return e.returnToHome()})("confirm",function(){return e.createPlayer()}),n(),i(35,"app-select-element-modal",23),E(36,"async"),c("select",function(o){return e.selectTeam(o)})("loadNextPageFunction",function(){return e.loadNextPage()})("closeModal",function(){return e.closeTeamModal()}),n(),h(37,re,1,1,"app-success-modal",24),h(38,le,1,1,"app-success-modal",24),h(39,se,1,1,"app-error-modal",25),n()()),t&2&&(s(5),p("matTooltip","Creating a player means that the player has been promoted to the MLB team, and that he is playing his first season in the league"),s(6),g("ngModel",e.nameInput),s(4),g("ngModel",e.playerNumberInput),s(5),g("ngModel",e.teamNameInput),s(9),g("ngModel",e.positionInput),s(),I(e.availablePositions),s(2),p("ngClass",B(17,ne,e.isPositionInputOpen)),s(3),p("teamElements",!0)("openModal",e.selectTeamButtonClicked)("isClose",e.isClose)("hasMore",e.selector.hasMore)("elements",V(36,15,e.selector.items$)??N(19,ae))("appEscapeClose",e.closeTeamModal),s(2),b(e.success?37:-1),s(),b(e.selectedTeam?38:-1),s(),b(e.error?39:-1))},dependencies:[W,F,J,G,Y,D,j,z,H,Z,O,U,X,$,ee,K,L,R],encapsulation:2})};export{ie as CreatePlayerComponent};
