import{e as d}from"./chunk-IVFASNUA.js";import{M as p,P as n,T as m,l as b,oc as f,s as l}from"./chunk-LPRGIQRJ.js";var c=class i{selectedTeamSubject=new b(null);selectedTeam$=this.selectedTeamSubject.asObservable();constructor(){window.SelectedTeamServiceInit&&window.SelectedTeamServiceInit(this)}setSelectedTeam(e){this.selectedTeamSubject.next(e)}clearSelectedTeam(){this.selectedTeamSubject.next(null)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"})};var T=class i{constructor(e,t,r){this.http=e;this.selectedTeamService=t;this.router=r}url="https://localhost:8443/api/v1/teams";getAvailableTeams(e,t){return this.http.get(`${this.url}/available?page=${e}&size=${t}`)}getStandings(){return this.http.get(`${this.url}/standings`)}getTeamInfo(e){return this.http.get(`${this.url}/${e}`)}selectTeam(e){return this.getTeamInfo(e).pipe(p(t=>this.selectedTeamService.setSelectedTeam(t)),p(()=>this.router.navigate(["team",e])))}getTeamsNamesAndAbbr(){return this.getStandings().pipe(l(e=>{let t=[];for(let r of Object.keys(e)){let a=e[r];for(let s of Object.keys(a)){let u=a[s];for(let o of u)t.push({name:o.name,abbreviation:o.abbreviation,league:r,division:s})}}return t.sort((r,a)=>r.name.localeCompare(a.name)),t}))}getTeamDivisionRank(e){return this.getStandings().pipe(l(t=>{for(let r of Object.keys(t)){let a=t[r];for(let s of Object.keys(a)){let o=a[s].findIndex(S=>S.abbreviation===e);if(o!==-1)return o+1}}return-1}))}updateTeam(e,t){return this.http.patch(`${this.url}/${e}`,t)}static \u0275fac=function(t){return new(t||i)(m(f),m(c),m(d))};static \u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"})};var g=class i{constructor(){}isTeamSummary(e){return"abbreviation"in e}isTeamInfo(e){return"teamStats"in e}isStadium(e){return"openingDate"in e}isPitcher(e){return"era"in e}isPositionPlayer(e){return"ops"in e}static \u0275fac=function(t){return new(t||i)};static \u0275prov=n({token:i,factory:i.\u0275fac,providedIn:"root"})};export{c as a,T as b,g as c};
